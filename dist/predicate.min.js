!function(e){function r(){}var t=[];r.register=function(e){t.push(e)},r._isQuoted=function(e){var r=e.charAt(0);return"'"===r||'"'===r},r.parse=function(e,r){var n,s,o=0;for(t.length;(s=t[o])&&!(n=s.parse(e));o++);return r&&r.constructor!==Array&&(i._substitutionVariables=r),n;var i,o},r.getExpressions=function(e){var t=[];if(e.left)t.push(e.left),t.push(e.right);else for(var n=0,s=e.length;s>n;n++)n%2===0&&(t=t.concat(r.getExpressions(e[n])));return t},r.prototype.copy=function(){console.warn("Predicate subclass requires 'copy' to be overridden.")},r.prototype._removeExpressionsReferencingKeys=function(){},r.prototype.getDependentKeyPathExpressions=function(){return[]},r.prototype._predicateReferencesKeyPath=function(e){if(e=r.parse(e),e.left){if(Expression._expressionReferencesKeyPath(e.left))return!0;if(Expression._expressionReferencesKeyPath(e.right))return!0}else for(var t=0,n=e.length;n>t;t++)if(t%2===0&&r._expressionReferencesKeyPath(e[t]))return!0;return!1},r.prototype._predicateReferencesKeys=function(e,t){return e=r.parse(e),Expression._expressionReferencesKeys(e.left,t)?!0:Expression._expressionReferencesKeys(e.right,t)?!0:!1},r.prototype._removeExpressionsReferencingKeyPaths=function(e,t){if(console.log("remove expressions referencing keys: ",e,t),t||(t=[]),e=r.parse(e),e.left)r._predicateReferencesKeyPath(e)||t.push(e);else for(var n=0,s=e.length;s>n;n++)n%2===0?r._predicateReferencesKeyPath(e[n])?s-1>n?n++:n>0&&t.splice(t.length-1,1):t=t.concat(r._removeExpressionsReferencingKeyPaths(e[n])):t.push(e[n]);return t},r.prototype.toLocaleString=function(){return""},r.prototype.stringify=function(){return""},r.prototype.evaluateWithObject=function(e,r){return!0},global.Predicate=r;var n=require("./types/compound-predicate.js"),s=require("./types/comparison-predicate.js");r.register(s),r.register(n),function(e,r,t){"undefined"!=typeof module?module.exports=e:"undefined"!=typeof define&&define.amd?define(function(){return e}):window[r]=e,t[r]=e}(r,"Predicate",e)}(this);